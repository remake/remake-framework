var Remake=(()=>{var De=Object.defineProperty;var nu=Object.getOwnPropertyDescriptor;var iu=Object.getOwnPropertyNames;var au=Object.prototype.hasOwnProperty;var u=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),su=(e,t)=>{for(var r in t)De(e,r,{get:t[r],enumerable:!0})},uu=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of iu(t))!au.call(e,n)&&n!==r&&De(e,n,{get:()=>t[n],enumerable:!(o=nu(t,n))||o.enumerable});return e};var lu=e=>uu(De({},"__esModule",{value:!0}),e);var Be=u((iy,or)=>{var Tu=typeof global=="object"&&global&&global.Object===Object&&global;or.exports=Tu});var O=u((ay,nr)=>{var Fu=Be(),ju=typeof self=="object"&&self&&self.Object===Object&&self,Iu=Fu||ju||Function("return this")();nr.exports=Iu});var re=u((sy,ir)=>{var Nu=O(),Pu=Nu.Symbol;ir.exports=Pu});var Xe=u((uy,ar)=>{function Lu(e,t){for(var r=-1,o=e==null?0:e.length,n=Array(o);++r<o;)n[r]=t(e[r],r,e);return n}ar.exports=Lu});var oe=u((ly,sr)=>{var Ru=Array.isArray;sr.exports=Ru});var fr=u((cy,cr)=>{var ur=re(),lr=Object.prototype,Mu=lr.hasOwnProperty,Du=lr.toString,ne=ur?ur.toStringTag:void 0;function Uu(e){var t=Mu.call(e,ne),r=e[ne];try{e[ne]=void 0;var o=!0}catch(i){}var n=Du.call(e);return o&&(t?e[ne]=r:delete e[ne]),n}cr.exports=Uu});var pr=u((fy,dr)=>{var Wu=Object.prototype,zu=Wu.toString;function Vu(e){return zu.call(e)}dr.exports=Vu});var W=u((dy,gr)=>{var mr=re(),Ku=fr(),$u=pr(),Hu="[object Null]",Gu="[object Undefined]",hr=mr?mr.toStringTag:void 0;function Bu(e){return e==null?e===void 0?Gu:Hu:hr&&hr in Object(e)?Ku(e):$u(e)}gr.exports=Bu});var I=u((py,br)=>{function Xu(e){return e!=null&&typeof e=="object"}br.exports=Xu});var Ze=u((my,yr)=>{var Zu=W(),Yu=I(),Ju="[object Symbol]";function Qu(e){return typeof e=="symbol"||Yu(e)&&Zu(e)==Ju}yr.exports=Qu});var _r=u((hy,qr)=>{var xr=re(),el=Xe(),tl=oe(),rl=Ze(),ol=1/0,vr=xr?xr.prototype:void 0,Ar=vr?vr.toString:void 0;function kr(e){if(typeof e=="string")return e;if(tl(e))return el(e,kr)+"";if(rl(e))return Ar?Ar.call(e):"";var t=e+"";return t=="0"&&1/e==-ol?"-0":t}qr.exports=kr});var ie=u((gy,Sr)=>{var nl=_r();function il(e){return e==null?"":nl(e)}Sr.exports=il});var wr=u((by,Er)=>{function al(e,t,r){var o=-1,n=e.length;t<0&&(t=-t>n?0:n+t),r=r>n?n:r,r<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(n);++o<n;)i[o]=e[o+t];return i}Er.exports=al});var Or=u((yy,Cr)=>{var sl=wr();function ul(e,t,r){var o=e.length;return r=r===void 0?o:r,!t&&r>=o?e:sl(e,t,r)}Cr.exports=ul});var Ye=u((xy,Tr)=>{var ll="\\ud800-\\udfff",cl="\\u0300-\\u036f",fl="\\ufe20-\\ufe2f",dl="\\u20d0-\\u20ff",pl=cl+fl+dl,ml="\\ufe0e\\ufe0f",hl="\\u200d",gl=RegExp("["+hl+ll+pl+ml+"]");function bl(e){return gl.test(e)}Tr.exports=bl});var jr=u((vy,Fr)=>{function yl(e){return e.split("")}Fr.exports=yl});var Ur=u((Ay,Dr)=>{var Ir="\\ud800-\\udfff",xl="\\u0300-\\u036f",vl="\\ufe20-\\ufe2f",Al="\\u20d0-\\u20ff",kl=xl+vl+Al,ql="\\ufe0e\\ufe0f",_l="["+Ir+"]",Je="["+kl+"]",Qe="\\ud83c[\\udffb-\\udfff]",Sl="(?:"+Je+"|"+Qe+")",Nr="[^"+Ir+"]",Pr="(?:\\ud83c[\\udde6-\\uddff]){2}",Lr="[\\ud800-\\udbff][\\udc00-\\udfff]",El="\\u200d",Rr=Sl+"?",Mr="["+ql+"]?",wl="(?:"+El+"(?:"+[Nr,Pr,Lr].join("|")+")"+Mr+Rr+")*",Cl=Mr+Rr+wl,Ol="(?:"+[Nr+Je+"?",Je,Pr,Lr,_l].join("|")+")",Tl=RegExp(Qe+"(?="+Qe+")|"+Ol+Cl,"g");function Fl(e){return e.match(Tl)||[]}Dr.exports=Fl});var zr=u((ky,Wr)=>{var jl=jr(),Il=Ye(),Nl=Ur();function Pl(e){return Il(e)?Nl(e):jl(e)}Wr.exports=Pl});var Kr=u((qy,Vr)=>{var Ll=Or(),Rl=Ye(),Ml=zr(),Dl=ie();function Ul(e){return function(t){t=Dl(t);var r=Rl(t)?Ml(t):void 0,o=r?r[0]:t.charAt(0),n=r?Ll(r,1).join(""):t.slice(1);return o[e]()+n}}Vr.exports=Ul});var Hr=u((_y,$r)=>{var Wl=Kr(),zl=Wl("toUpperCase");$r.exports=zl});var Br=u((Sy,Gr)=>{var Vl=ie(),Kl=Hr();function $l(e){return Kl(Vl(e).toLowerCase())}Gr.exports=$l});var Zr=u((Ey,Xr)=>{function Hl(e,t,r,o){var n=-1,i=e==null?0:e.length;for(o&&i&&(r=e[++n]);++n<i;)r=t(r,e[n],n,e);return r}Xr.exports=Hl});var Jr=u((wy,Yr)=>{function Gl(e){return function(t){return e==null?void 0:e[t]}}Yr.exports=Gl});var eo=u((Cy,Qr)=>{var Bl=Jr(),Xl={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Zl=Bl(Xl);Qr.exports=Zl});var ro=u((Oy,to)=>{var Yl=eo(),Jl=ie(),Ql=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ec="\\u0300-\\u036f",tc="\\ufe20-\\ufe2f",rc="\\u20d0-\\u20ff",oc=ec+tc+rc,nc="["+oc+"]",ic=RegExp(nc,"g");function ac(e){return e=Jl(e),e&&e.replace(Ql,Yl).replace(ic,"")}to.exports=ac});var no=u((Ty,oo)=>{var sc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function uc(e){return e.match(sc)||[]}oo.exports=uc});var ao=u((Fy,io)=>{var lc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function cc(e){return lc.test(e)}io.exports=cc});var Eo=u((jy,So)=>{var fo="\\ud800-\\udfff",fc="\\u0300-\\u036f",dc="\\ufe20-\\ufe2f",pc="\\u20d0-\\u20ff",mc=fc+dc+pc,po="\\u2700-\\u27bf",mo="a-z\\xdf-\\xf6\\xf8-\\xff",hc="\\xac\\xb1\\xd7\\xf7",gc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bc="\\u2000-\\u206f",yc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ho="A-Z\\xc0-\\xd6\\xd8-\\xde",xc="\\ufe0e\\ufe0f",go=hc+gc+bc+yc,bo="['\u2019]",so="["+go+"]",vc="["+mc+"]",yo="\\d+",Ac="["+po+"]",xo="["+mo+"]",vo="[^"+fo+go+yo+po+mo+ho+"]",kc="\\ud83c[\\udffb-\\udfff]",qc="(?:"+vc+"|"+kc+")",_c="[^"+fo+"]",Ao="(?:\\ud83c[\\udde6-\\uddff]){2}",ko="[\\ud800-\\udbff][\\udc00-\\udfff]",z="["+ho+"]",Sc="\\u200d",uo="(?:"+xo+"|"+vo+")",Ec="(?:"+z+"|"+vo+")",lo="(?:"+bo+"(?:d|ll|m|re|s|t|ve))?",co="(?:"+bo+"(?:D|LL|M|RE|S|T|VE))?",qo=qc+"?",_o="["+xc+"]?",wc="(?:"+Sc+"(?:"+[_c,Ao,ko].join("|")+")"+_o+qo+")*",Cc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Oc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Tc=_o+qo+wc,Fc="(?:"+[Ac,Ao,ko].join("|")+")"+Tc,jc=RegExp([z+"?"+xo+"+"+lo+"(?="+[so,z,"$"].join("|")+")",Ec+"+"+co+"(?="+[so,z+uo,"$"].join("|")+")",z+"?"+uo+"+"+lo,z+"+"+co,Oc,Cc,yo,Fc].join("|"),"g");function Ic(e){return e.match(jc)||[]}So.exports=Ic});var Co=u((Iy,wo)=>{var Nc=no(),Pc=ao(),Lc=ie(),Rc=Eo();function Mc(e,t,r){return e=Lc(e),t=r?void 0:t,t===void 0?Pc(e)?Rc(e):Nc(e):e.match(t)||[]}wo.exports=Mc});var et=u((Ny,Oo)=>{var Dc=Zr(),Uc=ro(),Wc=Co(),zc="['\u2019]",Vc=RegExp(zc,"g");function Kc(e){return function(t){return Dc(Wc(Uc(t).replace(Vc,"")),e,"")}}Oo.exports=Kc});var ae=u((Py,To)=>{var $c=Br(),Hc=et(),Gc=Hc(function(e,t,r){return t=t.toLowerCase(),e+(r?$c(t):t)});To.exports=Gc});var E=u((Ly,Fo)=>{function Bc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}Fo.exports=Bc});var Ce=u((Ry,jo)=>{var Xc=W(),Zc=E(),Yc="[object AsyncFunction]",Jc="[object Function]",Qc="[object GeneratorFunction]",ef="[object Proxy]";function tf(e){if(!Zc(e))return!1;var t=Xc(e);return t==Jc||t==Qc||t==Yc||t==ef}jo.exports=tf});var No=u((My,Io)=>{var rf=O(),of=rf["__core-js_shared__"];Io.exports=of});var Ro=u((Dy,Lo)=>{var tt=No(),Po=function(){var e=/[^.]+$/.exec(tt&&tt.keys&&tt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nf(e){return!!Po&&Po in e}Lo.exports=nf});var Do=u((Uy,Mo)=>{var af=Function.prototype,sf=af.toString;function uf(e){if(e!=null){try{return sf.call(e)}catch(t){}try{return e+""}catch(t){}}return""}Mo.exports=uf});var Wo=u((Wy,Uo)=>{var lf=Ce(),cf=Ro(),ff=E(),df=Do(),pf=/[\\^$.*+?()[\]{}|]/g,mf=/^\[object .+?Constructor\]$/,hf=Function.prototype,gf=Object.prototype,bf=hf.toString,yf=gf.hasOwnProperty,xf=RegExp("^"+bf.call(yf).replace(pf,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vf(e){if(!ff(e)||cf(e))return!1;var t=lf(e)?xf:mf;return t.test(df(e))}Uo.exports=vf});var Vo=u((zy,zo)=>{function Af(e,t){return e==null?void 0:e[t]}zo.exports=Af});var Oe=u((Vy,Ko)=>{var kf=Wo(),qf=Vo();function _f(e,t){var r=qf(e,t);return kf(r)?r:void 0}Ko.exports=_f});var se=u((Ky,$o)=>{var Sf=Oe(),Ef=Sf(Object,"create");$o.exports=Ef});var Bo=u(($y,Go)=>{var Ho=se();function wf(){this.__data__=Ho?Ho(null):{},this.size=0}Go.exports=wf});var Zo=u((Hy,Xo)=>{function Cf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Xo.exports=Cf});var Jo=u((Gy,Yo)=>{var Of=se(),Tf="__lodash_hash_undefined__",Ff=Object.prototype,jf=Ff.hasOwnProperty;function If(e){var t=this.__data__;if(Of){var r=t[e];return r===Tf?void 0:r}return jf.call(t,e)?t[e]:void 0}Yo.exports=If});var en=u((By,Qo)=>{var Nf=se(),Pf=Object.prototype,Lf=Pf.hasOwnProperty;function Rf(e){var t=this.__data__;return Nf?t[e]!==void 0:Lf.call(t,e)}Qo.exports=Rf});var rn=u((Xy,tn)=>{var Mf=se(),Df="__lodash_hash_undefined__";function Uf(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Mf&&t===void 0?Df:t,this}tn.exports=Uf});var nn=u((Zy,on)=>{var Wf=Bo(),zf=Zo(),Vf=Jo(),Kf=en(),$f=rn();function V(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}V.prototype.clear=Wf;V.prototype.delete=zf;V.prototype.get=Vf;V.prototype.has=Kf;V.prototype.set=$f;on.exports=V});var sn=u((Yy,an)=>{function Hf(){this.__data__=[],this.size=0}an.exports=Hf});var ue=u((Jy,un)=>{function Gf(e,t){return e===t||e!==e&&t!==t}un.exports=Gf});var le=u((Qy,ln)=>{var Bf=ue();function Xf(e,t){for(var r=e.length;r--;)if(Bf(e[r][0],t))return r;return-1}ln.exports=Xf});var fn=u((ex,cn)=>{var Zf=le(),Yf=Array.prototype,Jf=Yf.splice;function Qf(e){var t=this.__data__,r=Zf(t,e);if(r<0)return!1;var o=t.length-1;return r==o?t.pop():Jf.call(t,r,1),--this.size,!0}cn.exports=Qf});var pn=u((tx,dn)=>{var ed=le();function td(e){var t=this.__data__,r=ed(t,e);return r<0?void 0:t[r][1]}dn.exports=td});var hn=u((rx,mn)=>{var rd=le();function od(e){return rd(this.__data__,e)>-1}mn.exports=od});var bn=u((ox,gn)=>{var nd=le();function id(e,t){var r=this.__data__,o=nd(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}gn.exports=id});var ce=u((nx,yn)=>{var ad=sn(),sd=fn(),ud=pn(),ld=hn(),cd=bn();function K(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}K.prototype.clear=ad;K.prototype.delete=sd;K.prototype.get=ud;K.prototype.has=ld;K.prototype.set=cd;yn.exports=K});var rt=u((ix,xn)=>{var fd=Oe(),dd=O(),pd=fd(dd,"Map");xn.exports=pd});var kn=u((ax,An)=>{var vn=nn(),md=ce(),hd=rt();function gd(){this.size=0,this.__data__={hash:new vn,map:new(hd||md),string:new vn}}An.exports=gd});var _n=u((sx,qn)=>{function bd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}qn.exports=bd});var fe=u((ux,Sn)=>{var yd=_n();function xd(e,t){var r=e.__data__;return yd(t)?r[typeof t=="string"?"string":"hash"]:r.map}Sn.exports=xd});var wn=u((lx,En)=>{var vd=fe();function Ad(e){var t=vd(this,e).delete(e);return this.size-=t?1:0,t}En.exports=Ad});var On=u((cx,Cn)=>{var kd=fe();function qd(e){return kd(this,e).get(e)}Cn.exports=qd});var Fn=u((fx,Tn)=>{var _d=fe();function Sd(e){return _d(this,e).has(e)}Tn.exports=Sd});var In=u((dx,jn)=>{var Ed=fe();function wd(e,t){var r=Ed(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}jn.exports=wd});var ot=u((px,Nn)=>{var Cd=kn(),Od=wn(),Td=On(),Fd=Fn(),jd=In();function $(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}$.prototype.clear=Cd;$.prototype.delete=Od;$.prototype.get=Td;$.prototype.has=Fd;$.prototype.set=jd;Nn.exports=$});var Ln=u((mx,Pn)=>{var Id="__lodash_hash_undefined__";function Nd(e){return this.__data__.set(e,Id),this}Pn.exports=Nd});var Mn=u((hx,Rn)=>{function Pd(e){return this.__data__.has(e)}Rn.exports=Pd});var Un=u((gx,Dn)=>{var Ld=ot(),Rd=Ln(),Md=Mn();function Te(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ld;++t<r;)this.add(e[t])}Te.prototype.add=Te.prototype.push=Rd;Te.prototype.has=Md;Dn.exports=Te});var zn=u((bx,Wn)=>{function Dd(e,t,r,o){for(var n=e.length,i=r+(o?1:-1);o?i--:++i<n;)if(t(e[i],i,e))return i;return-1}Wn.exports=Dd});var Kn=u((yx,Vn)=>{function Ud(e){return e!==e}Vn.exports=Ud});var Hn=u((xx,$n)=>{function Wd(e,t,r){for(var o=r-1,n=e.length;++o<n;)if(e[o]===t)return o;return-1}$n.exports=Wd});var Bn=u((vx,Gn)=>{var zd=zn(),Vd=Kn(),Kd=Hn();function $d(e,t,r){return t===t?Kd(e,t,r):zd(e,Vd,r)}Gn.exports=$d});var Zn=u((Ax,Xn)=>{var Hd=Bn();function Gd(e,t){var r=e==null?0:e.length;return!!r&&Hd(e,t,0)>-1}Xn.exports=Gd});var Jn=u((kx,Yn)=>{function Bd(e,t,r){for(var o=-1,n=e==null?0:e.length;++o<n;)if(r(t,e[o]))return!0;return!1}Yn.exports=Bd});var nt=u((qx,Qn)=>{function Xd(e){return function(t){return e(t)}}Qn.exports=Xd});var ti=u((_x,ei)=>{function Zd(e,t){return e.has(t)}ei.exports=Zd});var oi=u((Sx,ri)=>{var Yd=Un(),Jd=Zn(),Qd=Jn(),ep=Xe(),tp=nt(),rp=ti(),op=200;function np(e,t,r,o){var n=-1,i=Jd,s=!0,a=e.length,l=[],d=t.length;if(!a)return l;r&&(t=ep(t,tp(r))),o?(i=Qd,s=!1):t.length>=op&&(i=rp,s=!1,t=new Yd(t));e:for(;++n<a;){var f=e[n],c=r==null?f:r(f);if(f=o||f!==0?f:0,s&&c===c){for(var p=d;p--;)if(t[p]===c)continue e;l.push(f)}else i(t,c,o)||l.push(f)}return l}ri.exports=np});var ii=u((Ex,ni)=>{function ip(e,t){for(var r=-1,o=t.length,n=e.length;++r<o;)e[n+r]=t[r];return e}ni.exports=ip});var si=u((wx,ai)=>{var ap=W(),sp=I(),up="[object Arguments]";function lp(e){return sp(e)&&ap(e)==up}ai.exports=lp});var Fe=u((Cx,ci)=>{var ui=si(),cp=I(),li=Object.prototype,fp=li.hasOwnProperty,dp=li.propertyIsEnumerable,pp=ui(function(){return arguments}())?ui:function(e){return cp(e)&&fp.call(e,"callee")&&!dp.call(e,"callee")};ci.exports=pp});var mi=u((Ox,pi)=>{var fi=re(),mp=Fe(),hp=oe(),di=fi?fi.isConcatSpreadable:void 0;function gp(e){return hp(e)||mp(e)||!!(di&&e&&e[di])}pi.exports=gp});var bi=u((Tx,gi)=>{var bp=ii(),yp=mi();function hi(e,t,r,o,n){var i=-1,s=e.length;for(r||(r=yp),n||(n=[]);++i<s;){var a=e[i];t>0&&r(a)?t>1?hi(a,t-1,r,o,n):bp(n,a):o||(n[n.length]=a)}return n}gi.exports=hi});var it=u((Fx,yi)=>{function xp(e){return e}yi.exports=xp});var vi=u((jx,xi)=>{function vp(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}xi.exports=vp});var qi=u((Ix,ki)=>{var Ap=vi(),Ai=Math.max;function kp(e,t,r){return t=Ai(t===void 0?e.length-1:t,0),function(){for(var o=arguments,n=-1,i=Ai(o.length-t,0),s=Array(i);++n<i;)s[n]=o[t+n];n=-1;for(var a=Array(t+1);++n<t;)a[n]=o[n];return a[t]=r(s),Ap(e,this,a)}}ki.exports=kp});var Si=u((Nx,_i)=>{function qp(e){return function(){return e}}_i.exports=qp});var at=u((Px,Ei)=>{var _p=Oe(),Sp=function(){try{var e=_p(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();Ei.exports=Sp});var Oi=u((Lx,Ci)=>{var Ep=Si(),wi=at(),wp=it(),Cp=wi?function(e,t){return wi(e,"toString",{configurable:!0,enumerable:!1,value:Ep(t),writable:!0})}:wp;Ci.exports=Cp});var Fi=u((Rx,Ti)=>{var Op=800,Tp=16,Fp=Date.now;function jp(e){var t=0,r=0;return function(){var o=Fp(),n=Tp-(o-r);if(r=o,n>0){if(++t>=Op)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Ti.exports=jp});var Ii=u((Mx,ji)=>{var Ip=Oi(),Np=Fi(),Pp=Np(Ip);ji.exports=Pp});var st=u((Dx,Ni)=>{var Lp=it(),Rp=qi(),Mp=Ii();function Dp(e,t){return Mp(Rp(e,t,Lp),e+"")}Ni.exports=Dp});var ut=u((Ux,Pi)=>{var Up=9007199254740991;function Wp(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Up}Pi.exports=Wp});var je=u((Wx,Li)=>{var zp=Ce(),Vp=ut();function Kp(e){return e!=null&&Vp(e.length)&&!zp(e)}Li.exports=Kp});var lt=u((zx,Ri)=>{var $p=je(),Hp=I();function Gp(e){return Hp(e)&&$p(e)}Ri.exports=Gp});var Ui=u((Vx,Di)=>{var Bp=oi(),Xp=bi(),Zp=st(),Mi=lt(),Yp=Zp(function(e,t){return Mi(e)?Bp(e,Xp(t,1,Mi,!0)):[]});Di.exports=Yp});var mt=u((Jx,zi)=>{var em=et(),tm=em(function(e,t,r){return e+(r?"-":"")+t.toLowerCase()});zi.exports=tm});var Ki=u((Qx,Vi)=>{var rm=O(),om=function(){return rm.Date.now()};Vi.exports=om});var Hi=u((ev,$i)=>{var nm=/\s/;function im(e){for(var t=e.length;t--&&nm.test(e.charAt(t)););return t}$i.exports=im});var Bi=u((tv,Gi)=>{var am=Hi(),sm=/^\s+/;function um(e){return e&&e.slice(0,am(e)+1).replace(sm,"")}Gi.exports=um});var Ji=u((rv,Yi)=>{var lm=Bi(),Xi=E(),cm=Ze(),Zi=0/0,fm=/^[-+]0x[0-9a-f]+$/i,dm=/^0b[01]+$/i,pm=/^0o[0-7]+$/i,mm=parseInt;function hm(e){if(typeof e=="number")return e;if(cm(e))return Zi;if(Xi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Xi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lm(e);var r=dm.test(e);return r||pm.test(e)?mm(e.slice(2),r?2:8):fm.test(e)?Zi:+e}Yi.exports=hm});var ta=u((ov,ea)=>{var gm=E(),ht=Ki(),Qi=Ji(),bm="Expected a function",ym=Math.max,xm=Math.min;function vm(e,t,r){var o,n,i,s,a,l,d=0,f=!1,c=!1,p=!0;if(typeof e!="function")throw new TypeError(bm);t=Qi(t)||0,gm(r)&&(f=!!r.leading,c="maxWait"in r,i=c?ym(Qi(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p);function h(b){var _=o,C=n;return o=n=void 0,d=b,s=e.apply(C,_),s}function x(b){return d=b,a=setTimeout(Q,t),f?h(b):s}function R(b){var _=b-l,C=b-d,Dt=t-_;return c?xm(Dt,i-C):Dt}function M(b){var _=b-l,C=b-d;return l===void 0||_>=t||_<0||c&&C>=i}function Q(){var b=ht();if(M(b))return Ae(b);a=setTimeout(Q,R(b))}function Ae(b){return a=void 0,p&&o?h(b):(o=n=void 0,s)}function ke(){a!==void 0&&clearTimeout(a),d=0,o=l=n=a=void 0}function Me(){return a===void 0?s:Ae(ht())}function ee(){var b=ht(),_=M(b);if(o=arguments,n=this,l=b,_){if(a===void 0)return x(l);if(c)return clearTimeout(a),a=setTimeout(Q,t),h(l)}return a===void 0&&(a=setTimeout(Q,t)),s}return ee.cancel=ke,ee.flush=Me,ee}ea.exports=vm});var qa=u((K0,ka)=>{var Dm=ce();function Um(){this.__data__=new Dm,this.size=0}ka.exports=Um});var Sa=u(($0,_a)=>{function Wm(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}_a.exports=Wm});var wa=u((H0,Ea)=>{function zm(e){return this.__data__.get(e)}Ea.exports=zm});var Oa=u((G0,Ca)=>{function Vm(e){return this.__data__.has(e)}Ca.exports=Vm});var Fa=u((B0,Ta)=>{var Km=ce(),$m=rt(),Hm=ot(),Gm=200;function Bm(e,t){var r=this.__data__;if(r instanceof Km){var o=r.__data__;if(!$m||o.length<Gm-1)return o.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hm(o)}return r.set(e,t),this.size=r.size,this}Ta.exports=Bm});var Ia=u((X0,ja)=>{var Xm=ce(),Zm=qa(),Ym=Sa(),Jm=wa(),Qm=Oa(),eh=Fa();function X(e){var t=this.__data__=new Xm(e);this.size=t.size}X.prototype.clear=Zm;X.prototype.delete=Ym;X.prototype.get=Jm;X.prototype.has=Qm;X.prototype.set=eh;ja.exports=X});var Pe=u((Z0,Pa)=>{var Na=at();function th(e,t,r){t=="__proto__"&&Na?Na(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}Pa.exports=th});var wt=u((Y0,La)=>{var rh=Pe(),oh=ue();function nh(e,t,r){(r!==void 0&&!oh(e[t],r)||r===void 0&&!(t in e))&&rh(e,t,r)}La.exports=nh});var Ma=u((J0,Ra)=>{function ih(e){return function(t,r,o){for(var n=-1,i=Object(t),s=o(t),a=s.length;a--;){var l=s[e?a:++n];if(r(i[l],l,i)===!1)break}return t}}Ra.exports=ih});var Ua=u((Q0,Da)=>{var ah=Ma(),sh=ah();Da.exports=sh});var $a=u((ge,Z)=>{var uh=O(),Ka=typeof ge=="object"&&ge&&!ge.nodeType&&ge,Wa=Ka&&typeof Z=="object"&&Z&&!Z.nodeType&&Z,lh=Wa&&Wa.exports===Ka,za=lh?uh.Buffer:void 0,Va=za?za.allocUnsafe:void 0;function ch(e,t){if(t)return e.slice();var r=e.length,o=Va?Va(r):new e.constructor(r);return e.copy(o),o}Z.exports=ch});var Ga=u((eA,Ha)=>{var fh=O(),dh=fh.Uint8Array;Ha.exports=dh});var Za=u((tA,Xa)=>{var Ba=Ga();function ph(e){var t=new e.constructor(e.byteLength);return new Ba(t).set(new Ba(e)),t}Xa.exports=ph});var Ja=u((rA,Ya)=>{var mh=Za();function hh(e,t){var r=t?mh(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}Ya.exports=hh});var es=u((oA,Qa)=>{function gh(e,t){var r=-1,o=e.length;for(t||(t=Array(o));++r<o;)t[r]=e[r];return t}Qa.exports=gh});var os=u((nA,rs)=>{var bh=E(),ts=Object.create,yh=function(){function e(){}return function(t){if(!bh(t))return{};if(ts)return ts(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();rs.exports=yh});var is=u((iA,ns)=>{function xh(e,t){return function(r){return e(t(r))}}ns.exports=xh});var Ct=u((aA,as)=>{var vh=is(),Ah=vh(Object.getPrototypeOf,Object);as.exports=Ah});var Ot=u((sA,ss)=>{var kh=Object.prototype;function qh(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||kh;return e===r}ss.exports=qh});var ls=u((uA,us)=>{var _h=os(),Sh=Ct(),Eh=Ot();function wh(e){return typeof e.constructor=="function"&&!Eh(e)?_h(Sh(e)):{}}us.exports=wh});var fs=u((lA,cs)=>{function Ch(){return!1}cs.exports=Ch});var Tt=u((be,Y)=>{var Oh=O(),Th=fs(),ms=typeof be=="object"&&be&&!be.nodeType&&be,ds=ms&&typeof Y=="object"&&Y&&!Y.nodeType&&Y,Fh=ds&&ds.exports===ms,ps=Fh?Oh.Buffer:void 0,jh=ps?ps.isBuffer:void 0,Ih=jh||Th;Y.exports=Ih});var bs=u((cA,gs)=>{var Nh=W(),Ph=Ct(),Lh=I(),Rh="[object Object]",Mh=Function.prototype,Dh=Object.prototype,hs=Mh.toString,Uh=Dh.hasOwnProperty,Wh=hs.call(Object);function zh(e){if(!Lh(e)||Nh(e)!=Rh)return!1;var t=Ph(e);if(t===null)return!0;var r=Uh.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&hs.call(r)==Wh}gs.exports=zh});var xs=u((fA,ys)=>{var Vh=W(),Kh=ut(),$h=I(),Hh="[object Arguments]",Gh="[object Array]",Bh="[object Boolean]",Xh="[object Date]",Zh="[object Error]",Yh="[object Function]",Jh="[object Map]",Qh="[object Number]",eg="[object Object]",tg="[object RegExp]",rg="[object Set]",og="[object String]",ng="[object WeakMap]",ig="[object ArrayBuffer]",ag="[object DataView]",sg="[object Float32Array]",ug="[object Float64Array]",lg="[object Int8Array]",cg="[object Int16Array]",fg="[object Int32Array]",dg="[object Uint8Array]",pg="[object Uint8ClampedArray]",mg="[object Uint16Array]",hg="[object Uint32Array]",g={};g[sg]=g[ug]=g[lg]=g[cg]=g[fg]=g[dg]=g[pg]=g[mg]=g[hg]=!0;g[Hh]=g[Gh]=g[ig]=g[Bh]=g[ag]=g[Xh]=g[Zh]=g[Yh]=g[Jh]=g[Qh]=g[eg]=g[tg]=g[rg]=g[og]=g[ng]=!1;function gg(e){return $h(e)&&Kh(e.length)&&!!g[Vh(e)]}ys.exports=gg});var As=u((ye,J)=>{var bg=Be(),vs=typeof ye=="object"&&ye&&!ye.nodeType&&ye,xe=vs&&typeof J=="object"&&J&&!J.nodeType&&J,yg=xe&&xe.exports===vs,Ft=yg&&bg.process,xg=function(){try{var e=xe&&xe.require&&xe.require("util").types;return e||Ft&&Ft.binding&&Ft.binding("util")}catch(t){}}();J.exports=xg});var jt=u((dA,_s)=>{var vg=xs(),Ag=nt(),ks=As(),qs=ks&&ks.isTypedArray,kg=qs?Ag(qs):vg;_s.exports=kg});var It=u((pA,Ss)=>{function qg(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}Ss.exports=qg});var ws=u((mA,Es)=>{var _g=Pe(),Sg=ue(),Eg=Object.prototype,wg=Eg.hasOwnProperty;function Cg(e,t,r){var o=e[t];(!(wg.call(e,t)&&Sg(o,r))||r===void 0&&!(t in e))&&_g(e,t,r)}Es.exports=Cg});var Os=u((hA,Cs)=>{var Og=ws(),Tg=Pe();function Fg(e,t,r,o){var n=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=o?o(r[a],e[a],a,r,e):void 0;l===void 0&&(l=e[a]),n?Tg(r,a,l):Og(r,a,l)}return r}Cs.exports=Fg});var Fs=u((gA,Ts)=>{function jg(e,t){for(var r=-1,o=Array(e);++r<e;)o[r]=t(r);return o}Ts.exports=jg});var Nt=u((bA,js)=>{var Ig=9007199254740991,Ng=/^(?:0|[1-9]\d*)$/;function Pg(e,t){var r=typeof e;return t=t==null?Ig:t,!!t&&(r=="number"||r!="symbol"&&Ng.test(e))&&e>-1&&e%1==0&&e<t}js.exports=Pg});var Ns=u((yA,Is)=>{var Lg=Fs(),Rg=Fe(),Mg=oe(),Dg=Tt(),Ug=Nt(),Wg=jt(),zg=Object.prototype,Vg=zg.hasOwnProperty;function Kg(e,t){var r=Mg(e),o=!r&&Rg(e),n=!r&&!o&&Dg(e),i=!r&&!o&&!n&&Wg(e),s=r||o||n||i,a=s?Lg(e.length,String):[],l=a.length;for(var d in e)(t||Vg.call(e,d))&&!(s&&(d=="length"||n&&(d=="offset"||d=="parent")||i&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||Ug(d,l)))&&a.push(d);return a}Is.exports=Kg});var Ls=u((xA,Ps)=>{function $g(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}Ps.exports=$g});var Ms=u((vA,Rs)=>{var Hg=E(),Gg=Ot(),Bg=Ls(),Xg=Object.prototype,Zg=Xg.hasOwnProperty;function Yg(e){if(!Hg(e))return Bg(e);var t=Gg(e),r=[];for(var o in e)o=="constructor"&&(t||!Zg.call(e,o))||r.push(o);return r}Rs.exports=Yg});var Pt=u((AA,Ds)=>{var Jg=Ns(),Qg=Ms(),eb=je();function tb(e){return eb(e)?Jg(e,!0):Qg(e)}Ds.exports=tb});var Ws=u((kA,Us)=>{var rb=Os(),ob=Pt();function nb(e){return rb(e,ob(e))}Us.exports=nb});var Gs=u((qA,Hs)=>{var zs=wt(),ib=$a(),ab=Ja(),sb=es(),ub=ls(),Vs=Fe(),Ks=oe(),lb=lt(),cb=Tt(),fb=Ce(),db=E(),pb=bs(),mb=jt(),$s=It(),hb=Ws();function gb(e,t,r,o,n,i,s){var a=$s(e,r),l=$s(t,r),d=s.get(l);if(d){zs(e,r,d);return}var f=i?i(a,l,r+"",e,t,s):void 0,c=f===void 0;if(c){var p=Ks(l),h=!p&&cb(l),x=!p&&!h&&mb(l);f=l,p||h||x?Ks(a)?f=a:lb(a)?f=sb(a):h?(c=!1,f=ib(l,!0)):x?(c=!1,f=ab(l,!0)):f=[]:pb(l)||Vs(l)?(f=a,Vs(a)?f=hb(a):(!db(a)||fb(a))&&(f=ub(l))):c=!1}c&&(s.set(l,f),n(f,l,o,i,s),s.delete(l)),zs(e,r,f)}Hs.exports=gb});var Zs=u((_A,Xs)=>{var bb=Ia(),yb=wt(),xb=Ua(),vb=Gs(),Ab=E(),kb=Pt(),qb=It();function Bs(e,t,r,o,n){e!==t&&xb(t,function(i,s){if(n||(n=new bb),Ab(i))vb(e,t,s,r,Bs,o,n);else{var a=o?o(qb(e,s),i,s+"",e,t,n):void 0;a===void 0&&(a=i),yb(e,s,a)}},kb)}Xs.exports=Bs});var Js=u((SA,Ys)=>{var _b=ue(),Sb=je(),Eb=Nt(),wb=E();function Cb(e,t,r){if(!wb(r))return!1;var o=typeof t;return(o=="number"?Sb(r)&&Eb(t,r.length):o=="string"&&t in r)?_b(r[t],e):!1}Ys.exports=Cb});var eu=u((EA,Qs)=>{var Ob=st(),Tb=Js();function Fb(e){return Ob(function(t,r){var o=-1,n=r.length,i=n>1?r[n-1]:void 0,s=n>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(n--,i):void 0,s&&Tb(r[0],r[1],s)&&(i=n<3?void 0:i,n=1),t=Object(t);++o<n;){var a=r[o];a&&e(t,a,o,i)}return t})}Qs.exports=Fb});var Lt=u((wA,tu)=>{var jb=Zs(),Ib=eu(),Nb=Ib(function(e,t,r){jb(e,t,r)});tu.exports=Nb});var Rb={};su(Rb,{$:()=>v,callSaveFunction:()=>w,callWatchFunctionsOnElements:()=>H,copyLayout:()=>we,getClosestElemWithKey:()=>F,getKeyNamesFromElem:()=>P,getSaveData:()=>de,getValueForClosestKey:()=>N,getValueForKeyName:()=>T,init:()=>ou,onAddItem:()=>B,onFileUpload:()=>xt,onFileUploadProgress:()=>vt,onSave:()=>yt,onSync:()=>At,saveData:()=>Ne,setAllDataToEmptyStringsExceptIds:()=>G,setValueForClosestKey:()=>k,setValueForKeyName:()=>A});var v=function(e){return new Ue(e)},qe=[];v.data=function(e,t,r){if(!(!e||!t)){if(!r){let o=qe.find(n=>n.elem===e&&n.key===t);return o&&o.value}if(r){let o=qe.findIndex(n=>n.elem===e&&n.key===t);o>-1&&qe.splice(o,1),qe.push({key:t,value:r,elem:e})}}};v.arr=function(e){return e==null?[]:Array.from(e)};var Ue=class{constructor(t){let r=document.querySelectorAll(t),o=Array.from(r);t.endsWith(":first")&&(o=o.slice(0,1)),this.arr=o}get(t){if(t===void 0)return this.arr;try{return this.arr[t]}catch(r){return}}data(t,r){for(var o=0;o<this.arr.length;o++){let n=this.arr[o];v.data(n,t,r)}}on(t,r){this.arr.forEach(o=>{o.addEventListener(t,r)})}};function y(){if(!(this instanceof y))return new y;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var te=typeof window<"u"&&window.document.documentElement,cu=te.matches||te.webkitMatchesSelector||te.mozMatchesSelector||te.oMatchesSelector||te.msMatchesSelector;y.prototype.matchesSelector=function(e,t){return cu.call(e,t)};y.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)};y.prototype.indexes=[];var fu=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;y.prototype.indexes.push({name:"ID",selector:function(t){var r;if(r=t.match(fu))return r[0].slice(1)},element:function(t){if(t.id)return[t.id]}});var du=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;y.prototype.indexes.push({name:"CLASS",selector:function(t){var r;if(r=t.match(du))return r[0].slice(1)},element:function(t){var r=t.className;if(r){if(typeof r=="string")return r.split(/\s/);if(typeof r=="object"&&"baseVal"in r)return r.baseVal.split(/\s/)}}});var pu=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;y.prototype.indexes.push({name:"TAG",selector:function(t){var r;if(r=t.match(pu))return r[0].toUpperCase()},element:function(t){return[t.nodeName.toUpperCase()]}});y.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}};var We;typeof window<"u"&&typeof window.Map=="function"?We=window.Map:We=function(){function e(){this.map={}}return e.prototype.get=function(t){return this.map[t+" "]},e.prototype.set=function(t,r){this.map[t+" "]=r},e}();var Ut=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function Wt(e,t){e=e.slice(0).concat(e.default);var r=e.length,o,n,i,s,a=t,l,d,f=[];do if(Ut.exec(""),(i=Ut.exec(a))&&(a=i[3],i[2]||!a)){for(o=0;o<r;o++)if(d=e[o],l=d.selector(i[1])){for(n=f.length,s=!1;n--;)if(f[n].index===d&&f[n].key===l){s=!0;break}s||f.push({index:d,key:l});break}}while(i);return f}function mu(e,t){var r,o,n;for(r=0,o=e.length;r<o;r++)if(n=e[r],t.isPrototypeOf(n))return n}y.prototype.logDefaultIndexUsed=function(){};y.prototype.add=function(e,t){var r,o,n,i,s,a,l,d,f=this.activeIndexes,c=this.selectors,p=this.selectorObjects;if(typeof e=="string"){for(r={id:this.uid++,selector:e,data:t},p[r.id]=r,l=Wt(this.indexes,e),o=0;o<l.length;o++)d=l[o],i=d.key,n=d.index,s=mu(f,n),s||(s=Object.create(n),s.map=new We,f.push(s)),n===this.indexes.default&&this.logDefaultIndexUsed(r),a=s.map.get(i),a||(a=[],s.map.set(i,a)),a.push(r);this.size++,c.push(e)}};y.prototype.remove=function(e,t){if(typeof e=="string"){var r,o,n,i,s,a,l,d,f=this.activeIndexes,c=this.selectors=[],p=this.selectorObjects,h={},x=arguments.length===1;for(r=Wt(this.indexes,e),n=0;n<r.length;n++)for(o=r[n],i=f.length;i--;)if(a=f[i],o.index.isPrototypeOf(a)){if(l=a.map.get(o.key),l)for(s=l.length;s--;)d=l[s],d.selector===e&&(x||d.data===t)&&(l.splice(s,1),h[d.id]=!0);break}for(n in h)delete p[n],this.size--;for(n in p)c.push(p[n].selector)}};function zt(e,t){return e.id-t.id}y.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t={},r=[],o=this.querySelectorAll(this.selectors.join(", "),e),n,i,s,a,l,d,f,c;for(n=0,s=o.length;n<s;n++)for(l=o[n],d=this.matches(l),i=0,a=d.length;i<a;i++)c=d[i],t[c.id]?f=t[c.id]:(f={id:c.id,selector:c.selector,data:c.data,elements:[]},t[c.id]=f,r.push(f)),f.elements.push(l);return r.sort(zt)};y.prototype.matches=function(e){if(!e)return[];var t,r,o,n,i,s,a,l,d,f,c,p=this.activeIndexes,h={},x=[];for(t=0,n=p.length;t<n;t++)if(a=p[t],l=a.element(e),l){for(r=0,i=l.length;r<i;r++)if(d=a.map.get(l[r]))for(o=0,s=d.length;o<s;o++)f=d[o],c=f.id,!h[c]&&this.matchesSelector(e,f.selector)&&(h[c]=!0,x.push(f))}return x.sort(zt)};var Ht={},Gt={},Ve=new WeakMap,Bt=new WeakMap,ze=new WeakMap,Vt=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function Kt(e,t,r){let o=e[t];return e[t]=function(){return r.apply(e,arguments),o.apply(e,arguments)},e}function hu(e,t,r){let o=[],n=t;do{if(n.nodeType!==1)break;let i=e.matches(n);if(i.length){let s={node:n,observers:i};r?o.unshift(s):o.push(s)}}while(n=n.parentElement);return o}function gu(){Ve.set(this,!0)}function bu(){Ve.set(this,!0),Bt.set(this,!0)}function yu(){return ze.get(this)||null}function $t(e,t){!Vt||Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||Vt.get})}function xu(e){try{return e.eventPhase,!0}catch(t){return!1}}function vu(e){if(!xu(e))return;let r=(e.eventPhase===1?Gt:Ht)[e.type];if(!r)return;let o=hu(r,e.target,e.eventPhase===1);if(!!o.length){Kt(e,"stopPropagation",gu),Kt(e,"stopImmediatePropagation",bu),$t(e,yu);for(let n=0,i=o.length;n<i&&!Ve.get(e);n++){let s=o[n];ze.set(e,s.node);for(let a=0,l=s.observers.length;a<l&&!Bt.get(e);a++)s.observers[a].data.call(s.node,e)}ze.delete(e),$t(e)}}function q(e,t,r,o={}){let n=!!o.capture,i=n?Gt:Ht,s=i[e];s||(s=new y,i[e]=s,typeof document<"u"&&document.addEventListener(e,vu,n)),s.add(t,r)}function Xt(e,t){t(e);for(let r=0,o=e.children.length;r<o;r++)Xt(e.children[r],t)}function Zt(e,t){let r;return Xt(e,function(o){!r&&t(o)&&(r=o)}),r}function _e({elem:e,selector:t,includeCurrentElement:r}){let o=[];for(r||(e=e.parentNode);e&&e!==document;e=e.parentNode)(!t||t&&e.matches(t))&&o.push(e);return o}function Ke({elem:e,selector:t}){if(e===document.documentElement)return;if(e.matches(t))return e;let r=e.querySelector(t);return r||Ke({elem:e.parentElement,selector:t})}function S(e,t){let r=e.attributes,o=r.length;for(var n=0;n<o;n++){let i=r[n].name,s=r[n].value;t(i,s)}}function $e(e){let t=e.getBoundingClientRect(),r=t.top+window.pageYOffset,o=t.left+window.pageXOffset,n=t.width+o,i=t.height+r,s=n-o,a=i-r;return{top:r,right:n,bottom:i,left:o,width:s,height:a}}function Au({elem:e}){let t=e.attributes,r=[];for(let o=0;o<t.length;o++)r.push(t[o].name);return r}function ku({elem:e,partialAttributeString:t}){return Au({elem:e}).filter(o=>o.indexOf(t)!==-1)}function j({eventTypes:e=["click"],partialAttributeStrings:t,matchesSelectors:r,callback:o,groupMatchesIntoSingleCallback:n,filterOutElemsInsideAncestor:i}){e.forEach(s=>{document.addEventListener(s,function(a){let l=a.target;if(i&&l.closest(i))return;let d=_e({elem:l,includeCurrentElement:!0}),f=[];for(let c=0;c<d.length;c++){let p=d[c];t.forEach(h=>{ku({elem:p,partialAttributeString:h}).forEach(R=>{(!r||r.every(M=>p.matches(M)))&&f.push({matchingElement:p,matchingAttribute:R,value:p.value||"",eventType:s,matchingPartialAttributeString:h})})})}f.length&&(n?o(f):f.forEach(c=>o(c)))})})}function qu(e){let t=e.split(""),r=[],o=!1;for(let n=0;n<t.length;n++){let i=t[n];i==="("?o=!0:i===")"?o=!1:o&&i===" "&&(i=""),r.push(i)}return r.join("")}function He(e){return e.trim().replace(/  +/g," ")}function Yt(e){return qu(He(e)).split(" ").map(n=>n.replace(/\s|\)/g,"").split(/\(|,/))}function Se(e,t){return function(o){let n=o.getAttribute(e);return n?Yt(n).map(function(s){let a={};return t.forEach(function(l,d){s[d]&&(a[l]=s[d])}),a}):[]}}var Kb=Se("data-switches",["name","auto","customName"]),$b=Se("data-switch-actions",["name","type","context"]),Hb=Se("data-switch-stop",["name"]),Gb=Se("data-switched-on",["name"]);function Jt(e){return e?Yt(e).map(function(r){return{funcName:r[0],args:r.slice(1)}}):[]}function Ge(e,t){return function(o){let n=o.getAttribute(e);return n?(n=He(n),n.split(" ").reduce((s,a,l)=>{let d=t[l];return s[d]=a,s},{})):{}}}var Qt=Ge("data-copy-layout",["selectorForPositionTarget","xOffset","yOffset","dimensionsName","selectorForDimensionsTarget"]),er=Ge("data-copy-position",["selectorForPositionTarget","xOffset","yOffset"]),tr=Ge("data-copy-dimensions",["selectorForDimensionsTarget","dimensionsName"]);function Ee(e,t){let r=e.getAttribute(t);return r?(r=He(r),r.split(" ")):[]}var _u=[{selector:"[data-copy-layout]",parser:Qt,name:"both"},{selector:"[data-copy-position]",parser:er,name:"position"},{selector:"[data-copy-dimensions]",parser:tr,name:"dimensions"}];q("click","[data-copy-layout], [data-copy-position], [data-copy-dimensions]",e=>{let t=e.currentTarget;Su(t).forEach(({selectorForPositionTarget:o,xOffset:n,yOffset:i,dimensionsName:s,selectorForDimensionsTarget:a,copyMethod:l})=>{let d=$e(t);(l==="dimensions"||l==="both")&&(a||(a=o),Eu(d,a,s)),(l==="position"||l==="both")&&wu(d,o,n,i)})});function Su(e){let t=[];return _u.forEach(r=>{if(e.matches(r.selector)){let o=r.parser(e);o.copyMethod=r.name,o.xOffset&&(o.xOffset=parseInt(o.xOffset,10)),o.yOffset&&(o.yOffset=parseInt(o.yOffset,10)),t.push(o)}}),t}function Eu(e,t,r){let{width:o,height:n}=e;v(t).arr.forEach(i=>{(r==="width"||r==="both")&&(i.style.width=o+"px"),(r==="height"||r==="both")&&(i.style.height=n+"px")})}function wu(e,t,r=0,o=0){let{left:n,top:i}=e;n+=r,i+=o,v(t).arr.forEach(s=>{s.style.top=i+"px",s.style.left=n+"px"})}function we({sourceElem:e,targetElem:t,dimensionsName:r="width",xOffset:o=0,yOffset:n=0}={}){let i=$e(e),{left:s,top:a}=i;s+=o,a+=n,t.style.top=a+"px",t.style.left=s+"px";let{width:l,height:d}=i;(r==="width"||r==="both")&&(t.style.width=l+"px"),(r==="height"||r==="both")&&(t.style.height=d+"px")}function Cu(){return["alt","autocapitalize","autofocus","checked","className","contentEditable","for","hidden","href","id","innerHTML","innerText","isContentEditable","lang","outerText","placeholder","spellcheck","src","style","textContent","title","type","value"]}var Ou=Cu().map(e=>"@"+e);function D({commandName:e,includingSearchCommand:t=!1}){return t&&e==="@search"||Ou.includes(e)||e.indexOf("@attr:")===0}function U(...e){console.error("Remake Error:",...e)}function rr(...e){console.warn("Remake Warning:",...e)}var m={watchFunctions:{setMailToLink:({watchElem:e,value:t})=>{e.href="mailto:"+t},setLink:({watchElem:e,value:t})=>{e.href=t.startsWith("http")?t:`https://${t}`},countKeys:({dashCaseKeyName:e,watchFuncArgs:t})=>{let[r]=t,o=document.querySelector(r);if(o){let i=Array.from(document.querySelectorAll(`[key\\:${e}]`)).reduce((s,a)=>{let l=a.getAttribute(`key:${e}`);return l!=="false"&&l!=="off"&&s++,s},0);o.innerText=i}},sumKeyValues:({dashCaseKeyName:e,watchFuncArgs:t})=>{let[r]=t,o=document.querySelector(r);if(o){let i=Array.from(document.querySelectorAll(`[key\\:${e}]`)).reduce((s,a)=>{let l=Remake.getValueForKeyName({elem:a,keyName:e});return s+=parseInt(l)||0,s},0);o.innerText=i}}},onSaveCallbacks:[],onFileUploadCallbacks:[],onFileUploadProgressCallbacks:[],onAddItemCallbacks:[],onRemoveItemCallbacks:[],onSyncCallbacks:[]};var Jp=ae(),Qp=Ui();function H(e){e.forEach(t=>{S(t,(r,o)=>{if(r.indexOf("watch:")===0){let n=r.substring(6),i=F({elem:t,keyName:n}),s=T({elem:i,keyName:n}),a=Wi({elem:t,keyName:n});ft({elem:t,dashCaseKeyName:n,value:s,targetElems:a})}})})}function ft({elem:e,dashCaseKeyName:t,value:r,targetElems:o}){let n=`[watch\\:${t}]`,i=`watch:${t}`,s=Qp(e.querySelectorAll(n),e.querySelectorAll(`:scope [key\\:${t}] [watch\\:${t}]`));e.matches(n)&&s.unshift(e),s.forEach(a=>{let l=a.getAttribute(i);Jt(l).forEach(({funcName:f,args:c})=>{if(D({commandName:f}))ct({elem:a,commandName:f,value:r,method:"set"});else{let p=m.watchFunctions&&m.watchFunctions[f];typeof p=="function"&&p({watchElem:a,watchAttrName:i,watchAttrValue:l,dashCaseKeyName:t,camelCaseKeyName:Jp(t),value:r,watchFuncName:f,watchFuncArgs:c,dataSourceElem:e,dataTargetElems:o})}})})}function dt({targetElems:e=[],targetAttr:t,value:r,method:o}){for(let n=0;n<e.length;n++){let i=e[n],s=i.getAttribute(t);if(D({commandName:s}))if(o==="set")ct({elem:i,commandName:s,value:r,method:o});else return ct({elem:i,commandName:s,value:r,method:o})}}function pt({elem:e,dashCaseKeyName:t,attrName:r,attrValue:o}){let n,i;if(o==="@search"){let s=`[target\\:${t}]`;n=`target:${t}`,i=Array.from(e.querySelectorAll(s)),e.matches(s)&&i.unshift(e)}else n=r,i=[e];return{targetElems:i,targetAttr:n}}function ct({elem:e,commandName:t,value:r,method:o}){if(t.indexOf("@attr:")===0){let n=t.substring(6);if(o==="set")e.setAttribute(n,r);else return e.getAttribute(n)}else{let n=t.substring(1);if(n.toLowerCase()==="src"&&e.tagName.toLowerCase()==="img"&&rr(`Please use @attr:src instead of @src for a better experience.
  @attr:src will get an empty string if there's no value for img.src (ideal), while @src will get the current page's url (not ideal).`,e),o==="set")e[n]=r;else return e[n]}}var gt=mt(),lv=ta();function ra({method:e,elem:t,keyName:r,value:o=""}){let n=gt(r),i=t.hasAttribute("key:"+n),s=t.hasAttribute("temporary:key:"+n);if(!i&&!s){U("You can't set a key name to a value if the key doesn't exist on the element yet");return}let a=i?"key:"+n:"temporary:key:"+n,l=t.getAttribute(a),d=D({commandName:l,includingSearchCommand:!0});e==="set"&&t.hasAttribute(`default:${n}`)&&o.trim().length===0&&(o=t.getAttribute(`default:${n}`)||"");let f,c;if(d){let p=pt({elem:t,dashCaseKeyName:n,attrName:a,attrValue:l});if(f=p.targetElems,c=p.targetAttr,e==="set")dt({targetElems:f,targetAttr:c,value:o,method:e});else return dt({targetElems:f,targetAttr:c,value:o,method:e})}else if(f=[t],e==="set")t.setAttribute(a,o);else return t.getAttribute(a);e==="set"&&(a.startsWith("temporary:")||w(t),ft({elem:t,dashCaseKeyName:n,value:o,targetElems:f}))}function Wi({elem:e,keyName:t}){let r=gt(t),n=e.hasAttribute("key:"+r)?"key:"+r:"temporary:key:"+r,i=e.getAttribute(n),s=D({commandName:i,includingSearchCommand:!0}),a;return s?a=pt({elem:e,dashCaseKeyName:r,attrName:n,attrValue:i}).targetElems:a=[e],a}function A({elem:e,keyName:t,value:r}){ra({method:"set",elem:e,keyName:t,value:r})}function T({elem:e,keyName:t}){return ra({method:"get",elem:e,keyName:t})}function F({elem:e,keyName:t}){let r=gt(t),o=e.closest(`[key\\:${r}]`),n=!o&&e.closest(`[temporary\\:key\\:${r}]`);return o||n}function oa({method:e,elem:t,keyName:r,value:o}){let n=F({elem:t,keyName:r});if(n)if(e==="set")A({elem:n,keyName:r,value:o});else return T({elem:n,keyName:r})}function N({elem:e,keyName:t}){return oa({method:"get",elem:e,keyName:t})}function k({elem:e,keyName:t,value:r}){oa({method:"set",elem:e,keyName:t,value:r})}function P(e){let t="key:",r="temporary:key:",o=[];return S(e,n=>{if(n.indexOf(t)===0){let i=n.substring(t.length);o.push(i)}if(n.indexOf(r)===0){let i=n.substring(r.length);o.push(i)}}),o}var pv=ae();function G(e){S(e,function(t,r){let o="key:";if(t.startsWith(o)&&t!=="key:id"){let i=t.substring(o.length);A({elem:e,keyName:i,value:""})}let n="temporary:key:";if(t.startsWith(n)&&t!=="key:id"){let i=t.substring(n.length);A({elem:e,keyName:i,value:""})}})}var Am=ae();function na(e){let t=ia(e);if(t.key){let r=t.value,o={};return o[t.key]=r,[r,o]}else return[t.value,t.value]}function bt(e,t){let r=!Array.isArray(t),o=ia(e);if(r)return o.key?(t[o.key]=o.value,o.value):(Object.assign(t,o.value),t);if(o.key){let n={};return n[o.key]=o.value,t.push(n),o.value}else return t.push(o.value),o.value}function ia(e){return{key:e.getAttribute("key"),value:e.hasAttribute("array")?[]:km(e)}}function km(e){let t="key:",r={};return S(e,o=>{if(o.indexOf(t)===0){let n=o.substring(t.length),i=Am(n);r[i]=T({elem:e,keyName:n})}}),r}function de(e){let t;function r(o,n){let i=o.hasAttribute("object")||o.hasAttribute("array");if(o.hasAttribute("ignore-data"))return;i&&(n&&(n=bt(o,n)),!n&&!t?[n,t]=na(o):!n&&t&&(n=bt(o,t)));let a=o.children;for(var l=0;l<a.length;l++)r(a[l],n);return t}return r(e)}function qm({url:e,method:t,data:r,callback:o}){fetch(e,{method:t,headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(r)}).then(n=>n.json()).then(n=>{o(n)})}function _m(e,t,r,o){qm({url:e,method:t,data:r,callback:o})}function Ie(e,t,r){_m(e,"POST",t,r)}function aa({fileInputElem:e,onProgress:t,onSuccess:r,onError:o}={}){let n=new XMLHttpRequest,i=e.files[0],s=new FormData;s.append("file",i,i.name),n.open("POST","/upload",!0),n.setRequestHeader("Accept","application/json"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.responseType="json",n.onreadystatechange=function(a){n.readyState===4&&(n.status===200?r&&r(n.response):o&&o())},n.upload.onprogress=function(a){if(a.lengthComputable&&t){let l=Math.floor(a.loaded/a.total*100);t(l)}},n.upload.onloadstart=function(a){t&&t(0)},n.upload.onloadend=function(a){t&&t(100)},n.send(s)}function yt(e){m.onSaveCallbacks.push(e)}function xt(e){m.onFileUploadCallbacks.push(e)}function vt(e){m.onFileUploadProgressCallbacks.push(e)}function B(e){m.onAddItemCallbacks.push(e)}function sa(e){m.onRemoveItemCallbacks.push(e)}function At(e){m.onSyncCallbacks.push(e)}function ua(...e){m.onSaveCallbacks.forEach(t=>t(...e))}function kt(...e){m.onFileUploadCallbacks.forEach(t=>t(...e))}function la(...e){m.onFileUploadProgressCallbacks.forEach(t=>t(...e))}function qt(...e){m.onAddItemCallbacks.forEach(t=>t(...e))}function _t(...e){m.onRemoveItemCallbacks.forEach(t=>t(...e))}function ca(...e){m.onSyncCallbacks.forEach(t=>t(...e))}function Ne({data:e,path:t,saveToId:r}){window.liveJsResourcesLoaded=!1,Ie("/save",{data:e,path:t,saveToId:r},function(o){window.liveJsResourcesLoaded=!1,ua(o)})}var fa={_defaultSave:function({data:e,path:t,saveToId:r,elem:o}){Ne({data:e,path:t,saveToId:r})}};function da(){m.saveFunctions&&Object.assign(fa,m.saveFunctions)}function w(e){if(!!e.closest("[no-save]"))return;let r=e.closest("[custom-save], [key\\:id]"),o=!1,n=!1,i=!1,s="_defaultSave",a,l;r?r.matches("[custom-save]")?(i=!0,[s,a,l]=Sm(r)):r.matches("[key\\:id]")&&(o=!0,s="_defaultSave",l=r.getAttribute("key:id")):(r=document.body,n=!0,s="_defaultSave");let d=fa[s],f=de(r);d({data:f,elem:e,path:a,saveToId:l});let c=document.body.getAttribute("data-item-route");if(n&&c&&console.log(`%cWarning: Data was just saved to your database, but not to the item matching the id in this page's url: "${c}". This might not be a mistake, but if it is you can correct it just add "key:${c}" to a high-level element.`,"color: #e03131;"),m.logDataOnSave){let p="";p+="[Dev mode] Logging Remake Data on save: ",n?p+="Action: Saved entire page, ":o?p+=`Action: Saved to nearest id (${l}), `:i&&(p+=`Action: Saved to custom save function (${s}), `,a&&(p+=`Action: Saved to path: ${a}, `),l&&(p+=`Action: Saved to id: ${l}, `)),console.log(p,"Data:",f)}}function pe(...e){setTimeout(()=>{w(...e)})}function Sm(e){let r=Ee(e,"custom-save"),o,n,i;return r.forEach(s=>{s.startsWith("path:")?n=s.substring(5):s.startsWith("id:")?i=s.substring(3):o=s}),o=o||"_defaultSave",[o,n,i]}var Em=mt();function wm({keyNames:e=[],sourceElement:t,targetElement:r,shouldSyncIntoUpdateElems:o=!1}){e.forEach(n=>{let i=N({elem:t,keyName:n});k({elem:r,keyName:n,value:i,dontSave:!0}),o&&Cm({targetElement:r,keyName:n,value:i})}),ca({keyNames:e,sourceElement:t,targetElement:r,shouldSyncIntoUpdateElems:o})}function me(...e){setTimeout(()=>{wm(...e)})}function Cm({targetElement:e,keyName:t,value:r}){let o=Em(t),n=e.querySelector(`[update\\:${o}]`);if(n){let i=n.tagName.toLowerCase();if(i==="input"){let s=n.getAttribute("type");if(s==="radio"){let a=e.querySelector(`[type='radio'][update\\:'${o}'][value='${r}']`);a&&(a.checked=!0)}else s==="checkbox"?r!=="false"&&r!==""?n.checked=!1:n.checked=!0:(s==="text"||!s)&&(n.value=r)}else(i==="select"||i==="textarea")&&(n.value=r)}}function pa(){q("click","[remove],[remove\\:with-confirm]",function(e){if(e.target.closest("[disable-events]")||e.currentTarget.hasAttribute("remove:with-confirm")&&!window.confirm("Are you sure you want to delete this element?"))return;let t=e.currentTarget.closest("[sync]"),r;t?r=v.data(t,"source"):r=e.currentTarget;let o=r.closest("[object]"),n=o.parentElement;o.remove(),pe(n),_t()}),q("click","[erase],[erase\\:with-confirm]",function(e){if(e.target.closest("[disable-events]")||e.currentTarget.hasAttribute("erase:with-confirm")&&!window.confirm("Are you sure you want to clear this data?"))return;let t=e.currentTarget.closest("[sync]");if(t)G(t),me({sourceElement:t,targetElement:v.data(t,"source"),keyNames:P(t)});else{let r=e.currentTarget.closest("[object]");G(r)}_t()})}function ma({elem:e,keyName:t}){let r,o,n=e;if(n.files[0])if(n.disabled=!0,!m._defaultUploadCallback)Om({fileInputElem:n,keyName:t});else{let s=n.files[0];m._defaultUploadCallback({fileInputElem:n,keyName:t,resetFileInput:St,file:s})}}function Om({fileInputElem:e,keyName:t}){aa({fileInputElem:e,onProgress:function(r){r===0&&(fileUploadStartTime=new Date().getTime()),Tm(r),r===100&&St(e),la({percentage:r})},onSuccess:function(r){k({elem:e,keyName:t,value:r.filePath}),kt({success:!0,res:r})},onError:function(){St(e),kt({success:!1})}})}function Tm(e){let t=document.querySelector(".uploading-notice"),r=document.querySelector(".uploading-notice__progress-bar-complete"),o=document.querySelector(".uploading-notice__status-percentage");if(e=e||0,e>0&&t.classList.add("uploading-notice--visible"),r.style.transform=`scaleX(${e/100})`,o.innerText=parseInt(e,10)+"%",e===100){fileUploadFinishTime=new Date().getTime();let n=1500;fileUploadFinishTime-fileUploadStartTime<2500&&(n=2300),setTimeout(function(){t.classList.remove("uploading-notice--visible")},n)}}function St(e){e.disabled=!1,e.value=""}function ha(){j({eventTypes:["input","click","change"],partialAttributeStrings:["update:"],filterOutElemsInsideAncestor:"[disable-events]",callback:({eventType:e,matchingElement:t,matchingAttribute:r,matchingPartialAttributeString:o})=>{let n=r.substring(o.length),i=t.nodeName&&t.nodeName.toLowerCase(),s=t.type?t.type.toLowerCase():"",a=t,l=null;e==="input"&&(i==="textarea"||s==="text"||s==="color"||s==="")&&(l=t.value,k({elem:a,keyName:n,value:l})),e==="change"&&(s==="checkbox"&&(l=!!t.checked),(s==="radio"||i==="select")&&(l=t.value),s==="file"&&ma({elem:t,keyName:n})),e==="click"&&!t.closest("input, textarea, select")&&(l=t.getAttribute(r)),l!==null&&k({elem:t,keyName:n,value:l})}}),j({eventTypes:["click"],partialAttributeStrings:["toggle:"],filterOutElemsInsideAncestor:"[disable-events]",callback:({matchingElement:e,matchingAttribute:t,matchingPartialAttributeString:r})=>{let o=t.substring(r.length);(N({elem:e,keyName:o})||"").toLowerCase()!=="true"?k({elem:e,keyName:o,value:!0}):k({elem:e,keyName:o,value:!1})}})}function ga(){q("click","[save]",function(e){let t=e.currentTarget;if(t.closest("[disable-events]"))return;let r=_e({elem:t,includeCurrentElement:!0});H(r),pe(t)}),q("input","[save]",function(e){let t=e.currentTarget;if(t.closest("[disable-events]"))return;let r=_e({elem:t,includeCurrentElement:!0});H(r),pe(t)})}var he=typeof Map=="function"?new Map:function(){let e=[],t=[];return{has(r){return e.indexOf(r)>-1},get(r){return t[e.indexOf(r)]},set(r,o){e.indexOf(r)===-1&&(e.push(r),t.push(o))},delete(r){let o=e.indexOf(r);o>-1&&(e.splice(o,1),t.splice(o,1))}}}(),ba=e=>new Event(e,{bubbles:!0});try{new Event("test")}catch(e){ba=t=>{let r=document.createEvent("Event");return r.initEvent(t,!0,!1),r}}function Fm(e){if(!e||!e.nodeName||e.nodeName!=="TEXTAREA"||he.has(e))return;let t=null,r=null,o=null;function n(){let c=window.getComputedStyle(e,null);c.resize==="vertical"?e.style.resize="none":c.resize==="both"&&(e.style.resize="horizontal"),c.boxSizing==="content-box"?t=-(parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)):t=parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth),isNaN(t)&&(t=0),l()}function i(c){{let p=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=p}e.style.overflowY=c}function s(c){let p=[];for(;c&&c.parentNode&&c.parentNode instanceof Element;)c.parentNode.scrollTop&&p.push({node:c.parentNode,scrollTop:c.parentNode.scrollTop}),c=c.parentNode;return p}function a(){if(e.scrollHeight===0)return;let c=s(e),p=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",r=e.clientWidth,c.forEach(h=>{h.node.scrollTop=h.scrollTop}),p&&(document.documentElement.scrollTop=p)}function l(){a();let c=Math.round(parseFloat(e.style.height)),p=window.getComputedStyle(e,null);var h=p.boxSizing==="content-box"?Math.round(parseFloat(p.height)):e.offsetHeight;if(h<c?p.overflowY==="hidden"&&(i("scroll"),a(),h=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):p.overflowY!=="hidden"&&(i("hidden"),a(),h=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),o!==h){o=h;let x=ba("autosize:resized");try{e.dispatchEvent(x)}catch(R){}}}let d=()=>{e.clientWidth!==r&&l()},f=(c=>{window.removeEventListener("resize",d,!1),e.removeEventListener("input",l,!1),e.removeEventListener("keyup",l,!1),e.removeEventListener("autosize:destroy",f,!1),e.removeEventListener("autosize:update",l,!1),Object.keys(c).forEach(p=>{e.style[p]=c[p]}),he.delete(e)}).bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",f,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",l,!1),window.addEventListener("resize",d,!1),e.addEventListener("input",l,!1),e.addEventListener("autosize:update",l,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",he.set(e,{destroy:f,update:l}),n()}function jm(e){let t=he.get(e);t&&t.destroy()}function Im(e){let t=he.get(e);t&&t.update()}var L=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(L=e=>e,L.destroy=e=>e,L.update=e=>e):(L=(e,t)=>(e&&Array.prototype.forEach.call(e.length?e:[e],r=>Fm(r,t)),e),L.destroy=e=>(e&&Array.prototype.forEach.call(e.length?e:[e],jm),e),L.update=e=>(e&&Array.prototype.forEach.call(e.length?e:[e],Im),e));var ya=L;function Et(e){let t=e.map(({eventType:p,matchingElement:h,matchingAttribute:x,matchingPartialAttributeString:R})=>{let M=x.split(":"),[Q,Ae,...ke]=M,Me=["with-remove","without-remove","with-erase"],ee=["text","textarea"],b=Me.find(C=>ke.includes(C))||"with-remove",_=ee.find(C=>ke.includes(C))||"text";return{keyName:Ae,formType:_,removeOption:b,eventType:p,matchingElement:h,matchingAttribute:x,matchingPartialAttributeString:R}}),r=t[0],o=r.matchingElement,n=r.keyName,i=r.removeOption,s=F({elem:o,keyName:n});if(!o||!n||!s){U("Problem with the 'edit:' attribute on one of these elements:",e.map(p=>p.matchingElement));return}let a=document.querySelector(".remake-edit");Nm({elem:a});let l=i==="with-remove",d=i==="with-erase";a.setAttribute("temporary:key:remake-edit-popover",""),a.setAttribute("temporary:key:remake-edit-option-has-remove",""),a.setAttribute("temporary:key:remake-edit-option-has-erase",""),A({elem:a,keyName:"remake-edit-popover",value:"on"}),A({elem:a,keyName:"remake-edit-option-has-remove",value:l?"on":"off"}),A({elem:a,keyName:"remake-edit-option-has-erase",value:d?"on":"off"}),v.data(a,"source",s),Pm({elem:a,config:t}),me({sourceElement:o,targetElement:a,keyNames:t.map(p=>p.keyName),shouldSyncIntoUpdateElems:!0});let f=a.querySelector(".remake-edit__edit-areas");f.innerHTML=Lm({config:t}),we({sourceElem:o,targetElem:a,dimensionsName:"width",xOffset:0,yOffset:0}),setTimeout(function(){Array.from(a.querySelectorAll("textarea")).forEach(h=>ya(h))});let c=a.querySelector("textarea, input");c&&c.focus()}function xa(){j({eventTypes:["click"],partialAttributeStrings:["edit:"],groupMatchesIntoSingleCallback:!0,filterOutElemsInsideAncestor:"[disable-events]",callback:Et}),q("submit","[sync]",e=>{e.preventDefault();let t=e.currentTarget.closest("[sync]");me({sourceElement:t,targetElement:v.data(t,"source"),keyNames:P(t)})}),q("click",".remake-edit__button:not([type='submit'])",function(e){e.preventDefault()}),document.addEventListener("keydown",e=>{if(e.keyCode===27){let t=document.querySelector('[key:remake-edit-popover="on"]');t&&A({elem:t,keyName:"remake-edit-popover",value:"off"})}})}function Nm({elem:e}){let t=[];S(e,(r,o)=>{(r.startsWith("key:")||r.startsWith("temporary:key:"))&&t.push(r)}),t.forEach(r=>e.removeAttribute(r))}function Pm({elem:e,config:t}){t.forEach(r=>{e.setAttribute(`temporary:key:${r.keyName}`,"")})}function Lm({config:e}){let t="";return e.forEach(({formType:r,keyName:o})=>{let n;r==="text"&&(n=`<input class="remake-edit__input" update:${o} type="text">`),r==="textarea"&&(n=`<textarea class="remake-edit__textarea" update:${o}></textarea>`),t+=`<div class="remake-edit__edit-area">${n}</div>`}),t}var Rm=ae();function Mm({templateName:e,listElem:t,whereToInsert:r,shouldTriggerEdit:o}){Ie("/new",{templateName:e},n=>{let{htmlString:i,success:s}=n;if(!s){qt({success:!1,templateName:e,ajaxResponse:n});return}if(!t){U("Couldn't find list element to insert new item into");return}t.insertAdjacentHTML(r,i),w(t);let a=r==="afterbegin"?t.firstElementChild:t.lastElementChild;o&&Aa(a),qt({success:!0,listElem:t,itemElem:a,templateName:e,ajaxResponse:n})})}function va(){j({eventTypes:["click"],partialAttributeStrings:["new:"],filterOutElemsInsideAncestor:"[disable-events]",callback:({matchingElement:e,matchingAttribute:t})=>{let r=t.split(":"),o=Rm(r[1]),n=Ee(e,t),s=(n.indexOf("top")!==-1?"top":"bottom")==="top"?"afterbegin":"beforeend",a=n.find(f=>f!=="top"&&f!=="bottom")||"[array]",l=Ke({elem:e,selector:a}),d=r.indexOf("edit")!==-1;m._defaultAddItemCallback?m._defaultAddItemCallback({templateName:o,listElem:l,whereToInsert:s,shouldTriggerEdit:d,triggerEditOnElem:Aa}):Mm({templateName:o,listElem:l,whereToInsert:s,shouldTriggerEdit:d})}})}function Aa(e){let t=Zt(e,r=>r.getAttributeNames().find(i=>i.startsWith("edit:")));if(t){let n=t.getAttributeNames().filter(i=>i.startsWith("edit:")).map(i=>({matchingElement:e,matchingAttribute:i,eventType:"click",matchingPartialAttributeString:"edit:"}));Et(n)}}var Pb=Lt();function Rt(){ru({elemToSearch:document}),m.alreadyInitialized||B(function({success:e,listElem:t,itemElem:r,templateName:o,ajaxResponse:n}){e&&ru({elemToSearch:r})})}function ru({elemToSearch:e}){let{sortablejs:t,sortableOptions:r}=m.sortable;Array.from(e.querySelectorAll("[sortable]")).forEach(n=>{if(n.closest("[disable-events]")||t.get(n))return;let i={onEnd:function(a){w(n)}};Pb(i,r);let s=n.getAttribute("sortable");s&&(i.group=s),n.querySelector("[sortable-handle]")&&(i.handle="[sortable-handle]"),t.create(n,i)})}function Le(){let e=`
  <style id="remake__auto-generated-styles">
    /* editable components */
    [data-user-is-not-page-author] #remake__auto-generated {
      display: none;
    }

    .remake-edit {
      display: none;
      position: absolute;
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    }

    .remake-edit * {
      box-sizing: border-box;
      font-family: inherit;
    }

    [temporary\\:key\\:remake-edit-popover="on"] {
      display: block;
    }

    .remake-edit__backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 9;
    }

    .remake-edit__edit-container {
      position: absolute;
      z-index: 10;
      min-width: 280px;
      width: 100%;
    }

    .remake-edit__edit-area {
      margin-bottom: 8px;
    }

    .remake-edit__textarea, .remake-edit__input {
      display: block;
      width: 100%;
      padding: 7px 14px 9px;
      font-size: 18px;
      border: none;
      outline: none;
      line-height: 1.4em;
      box-shadow: 0 2px 2px rgba(0, 0, 0, 0.5);
      border-radius: 5px;
    }

    .remake-edit__textarea {
      min-height: 48px;
      resize: none;
    }

    .remake-edit__buttons {
      display: flex;
    }

    .remake-edit__button {
      display: inline-block;
      margin: 0 8px 0 0;
      padding: 7px 14px 9px;
      border: 0;
      outline: none;
      font-size: 18px;
      color: #fff;
      background-color: #228be6;
      line-height: 1em;
      box-shadow: 0 2px 2px rgba(0, 0, 0, 0.5);
      border-radius: 5px;
      cursor: pointer;
      user-select: none;
      text-decoration: none;
    }

    .remake-edit__button:last-child {
      margin: 0;
    }

    .remake-edit__button:hover {
      background-color: #0b6cbf;
      color: #fff;
      text-decoration: none;
    }

    .remake-edit__button--remove, .remake-edit__button--hide {
      background-color: #e03131;
    }

    .remake-edit__button--hide {
      display: none;
    }

    .remake-edit__button--remove:hover, .remake-edit__button--hide:hover {
      background-color: #b42626;
      color: #fff;
    }

    [temporary\\:key\\:remake-edit-option-has-remove="off"] .remake-edit__button--remove, [temporary\\:key\\:remake-edit-option-has-erase="on"] .remake-edit__button--remove {
      display: none;
    }

    [temporary\\:key\\:remake-edit-option-has-erase="on"] .remake-edit__button--hide {
      display: inline-block;
    }

    .remake-edit__button--cancel {
      margin-left: auto;
      background-color: #868E96;
    }

    .remake-edit__button--cancel:hover {
      background-color: #64707d;
      color: #fff;
    }

    /* upload components */
    .uploading-notice {
      display: none;
      z-index: 10;
      position: absolute;
      top: 1.5rem;
      right: 1.5rem;
      width: 240px;
      padding: 14px 19px 18px 18px;
      font-weight: bold;
      font-size: 16px;
      color: #2B292D;
      background-color: #fff;
      border-radius: 7px;
      box-shadow: 0px 2px 6px rgba(0,0,0,.24);
    }

    .uploading-notice.uploading-notice--visible {
      display: block;
    }

    .uploading-notice__status {
      display: flex;
      margin-bottom: 12px;
    }

    .uploading-notice__status-text {
    }

    .uploading-notice__status-percentage {
      margin-left: auto;
      color: #4C6EF5;
    }

    .uploading-notice__progress-bar {
      overflow: hidden;
      background-color: #DBE4FF;
      height: 16px;
      border-radius: 3px;
    }

    .uploading-notice__progress-bar-complete {
      height: 100%;
      transform-origin: left;
      transform: scaleX(0);
      transition: transform .2s;
      background-color: #4C6EF5;
    }

  </style>
  <div id="remake__auto-generated" ignore-data no-save>

    <!-- editable components -->
    <form 
      class="remake-edit" 

      sync

      object
      temporary:key:remake-edit-popover="off"
      temporary:key:remake-edit-option-has-remove="on"
      temporary:key:remake-edit-option-has-erase="off"
    >
      <div 
        class="remake-edit__backdrop"
        update:remake-edit-popover="off"
      ></div>
      <div class="remake-edit__edit-container">
        <div class="remake-edit__edit-areas">
        </div>
        <div class="remake-edit__buttons">
          <a 
            class="remake-edit__button remake-edit__button--remove" 
            href="#"
            remove
            update:remake-edit-popover="off"
            data-i18n-key="remove"
          >remove</a>
          <a 
            class="remake-edit__button remake-edit__button--hide" 
            href="#"
            erase
            update:remake-edit-popover="off"
            data-i18n-key="remove"
          >remove</a>
          <a 
            class="remake-edit__button remake-edit__button--cancel" 
            href="#"
            update:remake-edit-popover="off"
            data-i18n-key="cancel"
          >cancel</a>
          <button 
            class="remake-edit__button remake-edit__button--save" 
            type="submit"
            update:remake-edit-popover="off"
            data-i18n-key="save"
          >save</button>
        </div>
      </div>
    </form>

    <!-- upload components -->
    <div class="uploading-notice">
      <div class="uploading-notice__status">
        <div class="uploading-notice__status-text" data-i18n-key="uploading">Uploading</div>
        <div class="uploading-notice__status-percentage"></div>
      </div>
      <div class="uploading-notice__progress-bar">
        <div class="uploading-notice__progress-bar-complete"></div>
      </div>
    </div>
  </div>`;document.body.insertAdjacentHTML("beforeend",e)}function Mt(){document.addEventListener("click",e=>{e.target.closest("[prevent-default]")&&e.preventDefault()})}function ve(){let e=Array.from(document.querySelectorAll("[run\\:watch]"));Remake.callWatchFunctionsOnElements(e)}function Re(){var e=Array.from(document.querySelectorAll("[show-if],[flex-show-if]")),t=e.filter(a=>!a._processedByShowIf),r=[];t.forEach(a=>{a.hasAttribute("show-if")&&(r=r.concat(a.getAttribute("show-if").split(" "))),a.hasAttribute("flex-show-if")&&(r=r.concat(a.getAttribute("flex-show-if").split(" "))),a._processedByShowIf=!0});var o=Array.from(new Set(r));if(o.length){var n=o.map(a=>a.split("=")),i=n.map(a=>`[key\\:${a[0]}="${a[1]}"] [show-if~="${a[0]}=${a[1]}"], [temporary\\:key\\:${a[0]}="${a[1]}"] [show-if~="${a[0]}=${a[1]}"] {display: block;} `).join("");i+=i.replace(/show-if/g,"flex-show-if").replace(/block/g,"flex");var s=`<style>[show-if], [flex-show-if] {display: none;} ${i}</style>`;document.head.insertAdjacentHTML("beforeend",s)}}var Lb=Lt();function ou(e){if(Lb(m,e),m.sortable&&Rt(),m.alreadyInitialized){document.getElementById("remake__auto-generated")||Le();return}Re(),ve(),Le(),da(),pa(),ha(),ga(),xa(),va(),Mt(),B(function(){ve(),Re()}),sa(function(){ve()}),m.alreadyInitialized=!0}return lu(Rb);})();
//# sourceMappingURL=remake.min.js.map
